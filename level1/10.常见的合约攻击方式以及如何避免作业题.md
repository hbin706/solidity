什么是重入攻击, 它是如何在智能合约中执行的?
- 在智能合约更新其内部状态前就调用外部合约或发送比特币, 此时可在被调用的外部资源中重新进入合约, 再度执行合约获取收益
  
如何防止智能合约中的重入攻击?
- 资源锁: 互斥锁达成目的
- 调用外部合约或发送资金之前先更新内部状态
- 优先采用transfer或send而不是call. 因为前两个方法限定了2300gas, 防止了状态变更

DAO攻击是如何发生的, 它与重入漏洞有什么关系?
- The DAO事件是一起典型的采用重入漏洞盗取资金的事件, 直接导致了以太坊的分叉
- 利用了取款函数发送资金后再更新状态的漏洞, 重复调用该函数, 导致提取了几乎所有资金

什么是整数溢出和下溢, 它们如何影响智能合约?
- 数据溢出: 微机原理基础知识, 不解释
- 智能合约中的数据溢出会导致意料之外的动作, 攻击者可据此获利
- solidity 0.8版本已经修复了该漏洞, 任何导致溢出的动作将会失败并导致状态回滚

如何在Solidity合约中防止整数溢出和下溢?
- 使用安全库如SafeMath
- 使用0.8以上版本

什么是委托调用delegatecall及其风险?
- delegatecall允许智能合约在自身环境条件下调用其它合约的函数
- 使用不当可能会导致合约状态被不当修改

什么是交易顺序依赖性, 它如何被利用进行攻击?
- 一笔交易在被传播出去之前需要经过矿工的同意并将其记账在一个区块内. 倘若一个攻击者在监听到网络中对应合约的交易后发送一个新的合约交易来改变当前的合约状态, 那么系统中会因为交易的先后问题而产生安全隐患
- 因为两笔交易有一定概率包含在同一个区块下面, 而新的交易合约有一定概率在原交易之前执行, 便可以用来进行攻击

在智能合约中如何安全地处理外部调用?
- 在进行外部调用前先更新内部状态
- 总是检查返回值
- 考虑实施模式, 如检查-效果-交互模式. 确保在进行任何外部交互前先进行所有状态更新和检查

如何利用以太坊的特性来增强智能合约的安全性?
- 利用以太坊提供的工具和模式. 例如使用事件日志来记录重要的状态变更, 利用修饰符来重用代码和安全检查, 以及利用库合约来减少重复代码和提高代码的安全性. 同时, 采用最新的编程模式, 如使用构造函数参数创建合约实例, 以避免中间件攻击
  
什么是智能合约中的拒绝服务DOS攻击?
- 通过使合约无法执行其正常功能来阻止用户访问合约

描述一种可能导致智能合约DOS攻击的情况?
- 最常见的就是利用合约中有漏洞的函数, 通过参数耗尽合约的gas导致失败

智能合约中的"所有者操作"是什么意思? 它如何成为安全漏洞?
- 智能合约中某些关键函数通常会被设计为只允许特定账户调用(通常是创建者), 此时若该账户丢失则会使该合约成为事实上的无法操作的合约

Solidity中使用block.timestamp可能导致哪些安全问题?
- block.timestamp在一定范围内可由矿工决定. 若某些关键逻辑依赖于此值, 则矿工可能通过恶意操作该值来获益

构造函数在Solidity中的命名与漏洞有何关联?
- 在Solidity版本0.4.22之前, 构造函数需要与合约名相同. 如果构造函数与合约名不匹配, 它将变为普通函数, 可能被外部调用者访问, 从而导致权限泄露

什么是未初始化的存储指针漏洞? 它如何影响智能合约?
- 未初始化的存储指针可能指向随机存储位置, 意外覆盖重要的合约状态

为什么在Solidity中不推荐使用tx.origin进行身份验证?
- 使用tx.origin进行身份验证容易受到钓鱼攻击, 因为它返回调用链的最初发起者

Solidity不支持浮点数或定点数的后果是什么?
- 意味着所有数值必须用整数表示, 可能导致精度问题

什么是"一次性地址"技术, 它如何在以太坊上被利用?
- 一次性地址技术涉及构建能够有效签名事务的随机r和s值(ECDSA组件), 使得派生的以太坊地址被用作交易的发起者. 这可以用于无需知道私钥的情况下, 临时或匿名地管理资金

描述如何在智能合约中防止未授权的修改或访问
- 合约应实施访问控制模式, 例如通过使用修饰符限制函数调用者的角色
- 多重签名或基于时间的自动化解锁机制可减少依赖单一账户或个体的风险